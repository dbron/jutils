NB.  Progressive iota
pi	=:  dyad define
	|: x ="_1 _ y
)

smoutput 1 1 2 2 3 3 4 4 4 pi 1 2 3 4 1 2 3 4

NB.  What I want (note the 8 occurs because there isn't a 3rd instance of 4).
smoutput 0 4 1 5 2 6 3 7 8